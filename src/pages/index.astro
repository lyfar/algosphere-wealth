---
import Layout from '../layouts/Layout.astro';
import '../styles/global.css';
---

<Layout title="Algosphere Asset Management">

  <!-- ═══════════════════════════════════════════════════════════════
       NAVIGATION
       ═══════════════════════════════════════════════════════════════ -->
  <nav id="navbar" class="fixed top-0 left-0 right-0 z-50 transition-all duration-700 border-b border-transparent">
    <div class="max-w-7xl mx-auto px-6 lg:px-16 py-5 flex items-center justify-between">
      <a href="#hero" class="flex items-center gap-3 group">
        <div class="logo-circle">
          <span class="text-gold-gradient font-heading text-lg font-semibold">A</span>
        </div>
        <span class="hidden sm:block text-[11px] tracking-[0.3em] uppercase text-gray-400 group-hover:text-white transition-colors duration-500 font-light">
          Algosphere
        </span>
      </a>

      <!-- Desktop Nav -->
      <div class="hidden md:flex items-center gap-8 lg:gap-14">
        <a href="#about" class="nav-link text-[10px] tracking-[0.25em] uppercase text-gray-500 hover:text-gold-400 transition-all duration-400 font-light" data-i18n data-hy="Ընկերություն" data-en="Company">
          Ընկերություն
        </a>
        <a href="#vision" class="nav-link text-[10px] tracking-[0.25em] uppercase text-gray-500 hover:text-gold-400 transition-all duration-400 font-light" data-i18n data-hy="Ծառայություններ" data-en="Services">
          Ծառայություններ
        </a>
        <a href="#contact" class="nav-link text-[10px] tracking-[0.25em] uppercase text-gray-500 hover:text-gold-400 transition-all duration-400 font-light" data-i18n data-hy="Կապ" data-en="Contact">
          Կապ
        </a>
        <!-- Language Switcher -->
        <div class="lang-switcher flex items-center gap-1 ml-4">
          <button id="lang-hy" class="lang-btn active text-[9px] tracking-[0.15em] uppercase font-medium px-2 py-1 rounded transition-all duration-300">ՀY</button>
          <span class="text-gray-700 text-[10px]">|</span>
          <button id="lang-en" class="lang-btn text-[9px] tracking-[0.15em] uppercase font-medium px-2 py-1 rounded transition-all duration-300">EN</button>
        </div>
      </div>

      <!-- Mobile Menu Button — premium minimal -->
      <button id="hamburger-btn" class="md:hidden relative w-9 h-9 flex items-center justify-center" aria-label="Toggle menu">
        <div class="hamburger-icon">
          <span class="ham-line ham-1"></span>
          <span class="ham-line ham-2"></span>
        </div>
      </button>
    </div>
  </nav>

  <!-- Mobile Menu Overlay -->
  <div id="mobile-menu" class="mobile-menu fixed inset-0 z-[60] pointer-events-none">
    <div class="mobile-menu-backdrop absolute inset-0 bg-navy-950/95 backdrop-blur-xl opacity-0 transition-opacity duration-500"></div>
    <div class="mobile-menu-content absolute inset-0 flex flex-col items-center justify-center gap-10 translate-y-[-20px] opacity-0 transition-all duration-500">
      <button id="mobile-close" class="absolute top-6 right-6 w-10 h-10 flex items-center justify-center" aria-label="Close menu">
        <svg class="w-6 h-6 text-gold-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
      <a href="#about" class="mobile-nav-link text-2xl tracking-[0.2em] uppercase text-gray-300 hover:text-gold-400 transition-all duration-300 font-light" data-i18n data-hy="Ընկերություն" data-en="Company">Ընկերություն</a>
      <a href="#vision" class="mobile-nav-link text-2xl tracking-[0.2em] uppercase text-gray-300 hover:text-gold-400 transition-all duration-300 font-light" data-i18n data-hy="Ծառայություններ" data-en="Services">Ծառայություններ</a>
      <a href="#contact" class="mobile-nav-link text-2xl tracking-[0.2em] uppercase text-gray-300 hover:text-gold-400 transition-all duration-300 font-light" data-i18n data-hy="Կապ" data-en="Contact">Կապ</a>
      <div class="mt-6 flex items-center gap-3">
        <button class="mobile-lang-btn text-sm tracking-[0.15em] uppercase font-medium px-4 py-2 rounded border border-gold-400/30 transition-all duration-300" data-lang="hy">ՀY</button>
        <button class="mobile-lang-btn text-sm tracking-[0.15em] uppercase font-medium px-4 py-2 rounded border border-gold-400/30 transition-all duration-300" data-lang="en">EN</button>
      </div>
      <div class="mt-4 w-16 h-px bg-gradient-to-r from-transparent via-gold-400/40 to-transparent"></div>
    </div>
  </div>


  <!-- ═══════════════════════════════════════════════════════════════
       HERO
       ═══════════════════════════════════════════════════════════════ -->
  <section id="hero" class="relative min-h-screen flex items-center justify-center overflow-hidden noise-overlay">
    <div class="starfield" id="starfield"></div>
    <canvas id="particles-canvas"></canvas>

    <!-- Ambient gradients -->
    <div class="absolute top-1/4 left-1/4 w-[600px] h-[600px] ambient-blob bg-gold-400"></div>
    <div class="absolute bottom-1/4 right-1/4 w-[500px] h-[500px] ambient-blob bg-blue-600"></div>
    <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(212,175,55,0.03)_0%,transparent_65%)]"></div>

    <div class="relative z-10 text-center px-6 max-w-4xl mx-auto">
      <!-- Logo Mark -->
      <div class="mb-12 flex justify-center gs-hero-el" data-hero-delay="0">
        <div class="w-28 h-28 border border-gold-400/30 rounded-full flex items-center justify-center hero-logo-ring">
          <span class="text-gold-gradient font-heading text-[3.2rem] font-semibold leading-none">A</span>
        </div>
      </div>

      <!-- Title -->
      <h1 class="gs-hero-el font-heading text-5xl sm:text-6xl lg:text-7xl font-medium tracking-[0.04em] mb-3" data-hero-delay="0.15">
        <span class="text-white">ALGOSPHERE</span>
      </h1>

      <p class="gs-hero-el text-[11px] sm:text-xs tracking-[0.6em] uppercase mb-14 font-light" data-hero-delay="0.3" style="color: rgba(212,175,55,0.65);">
        Asset Management
      </p>

      <!-- Tagline -->
      <p class="gs-hero-el text-lg sm:text-xl lg:text-2xl text-gray-500 font-light tracking-wide" data-hero-delay="0.45" data-i18n data-hy="Շուկաների Կառավարում Ինտելեկտով" data-en="Navigating Markets with Intelligence">
        Navigating Markets with Intelligence
      </p>

      <!-- Decorative line -->
      <div class="gs-hero-el mt-14 mx-auto gs-line-h" data-hero-delay="0.6" style="width: 100px; height: 1px; background: linear-gradient(90deg, transparent, rgba(212,175,55,0.4), transparent);"></div>
    </div>

    <!-- Scroll Indicator -->
    <div class="absolute bottom-12 left-1/2 scroll-indicator gs-hero-el" data-hero-delay="1.2">
      <div class="w-[22px] h-[36px] border border-gold-400/20 rounded-full flex justify-center pt-2">
        <div class="w-[3px] h-[6px] bg-gold-400/40 rounded-full animate-bounce"></div>
      </div>
    </div>
  </section>

  <!-- Gold Divider -->
  <div class="gold-divider gs-line-h"></div>


  <!-- ═══════════════════════════════════════════════════════════════
       ABOUT
       ═══════════════════════════════════════════════════════════════ -->
  <section id="about" class="relative py-36 lg:py-48 overflow-hidden">
    <div class="absolute top-0 right-0 w-[400px] h-[400px] ambient-blob bg-gold-400"></div>

    <div class="max-w-5xl mx-auto px-6 lg:px-16 relative z-10">
      <!-- Label -->
      <div class="gs-reveal">
        <div class="section-accent"></div>
        <p class="text-[10px] tracking-[0.5em] uppercase text-gold-400/50 mb-4 font-light" data-i18n data-hy="Մեր մասին" data-en="About Us">About Us</p>
      </div>

      <!-- Heading -->
      <h2 class="gs-reveal font-heading text-3xl sm:text-4xl lg:text-[3.2rem] text-white font-medium mb-14 leading-[1.2]">
        <span data-i18n data-hy="Ճիշտ յուրաքանչյուր<br /><span class='text-gold-gradient'>Ներդրումային Որոշում</span>" data-en="Precision in Every<br /><span class='text-gold-gradient'>Investment Decision</span>">Precision in Every<br /><span class="text-gold-gradient">Investment Decision</span></span>
      </h2>

      <!-- Body -->
      <div class="gs-reveal max-w-3xl">
        <p class="text-[17px] text-gray-400 font-light leading-[1.9] tracking-wide" data-i18n data-hy="ALGOSPHERE ASSET MANAGEMENT ընկերությունը մասնագիտացած է փակ, ոչ հրապարակային ներդրումային ֆոնդերի կառավարման մեջ։ Մեր նպատակն է առաջարկել առավել արդյունավետ ներդրումային ռազմավարություններ, աջակցել կայուն ֆինանսական աճին և ստեղծել վստահելի գործընկերային հարաբերություններ:" data-en="Algosphere Asset Management specializes in managing closed, non-public investment funds, providing innovative solutions. Our goal is to offer the most efficient investment strategies, support sustainable financial growth, and build trusted partnerships.">
          Algosphere Asset Management specializes in managing closed, non-public
          investment funds, providing innovative solutions. Our goal is to offer the
          most efficient investment strategies, support sustainable financial growth,
          and build trusted partnerships.
        </p>
      </div>

      <!-- Decorative element -->
      <div class="mt-24 flex items-center gap-6 gs-reveal about-parallax-decoration">
        <div class="h-px flex-1 bg-gradient-to-r from-gold-400/15 to-transparent gs-line-h"></div>
        <div class="w-2.5 h-2.5 border border-gold-400/30 rotate-45"></div>
        <div class="h-px w-20 bg-gradient-to-l from-gold-400/15 to-transparent gs-line-h"></div>
      </div>
    </div>
  </section>

  <!-- Gold Divider -->
  <div class="gold-divider gs-line-h"></div>


  <!-- ═══════════════════════════════════════════════════════════════
       VISION / MISSION / VALUES
       ═══════════════════════════════════════════════════════════════ -->
  <section id="vision" class="relative py-36 lg:py-48 overflow-hidden">
    <div class="absolute bottom-0 left-1/3 w-[500px] h-[500px] ambient-blob bg-gold-400"></div>

    <div class="max-w-7xl mx-auto px-6 lg:px-16 relative z-10">
      <!-- Section Header -->
      <div class="text-center mb-24 gs-reveal">
        <div class="section-accent mx-auto"></div>
        <p class="text-[10px] tracking-[0.5em] uppercase text-gold-400/50 mb-4 font-light" data-i18n data-hy="Տեսլական, Առաքելություն, Արժեքներ" data-en="Our Principles">Our Principles</p>
        <h2 class="font-heading text-3xl sm:text-4xl lg:text-[3.2rem] text-white font-medium leading-tight">
          <span data-i18n data-hy="Կառուցված <span class='text-gold-gradient'>Գերազանցության վրա</span>" data-en="Built on <span class='text-gold-gradient'>Excellence</span>">Built on <span class="text-gold-gradient">Excellence</span></span>
        </h2>
      </div>

      <!-- Cards -->
      <div class="grid md:grid-cols-3 gap-6 lg:gap-8">

        <!-- Vision -->
        <div class="glass-card p-9 lg:p-11 gs-reveal-scale">
          <div class="flex items-center gap-3.5 mb-7">
            <div class="w-11 h-11 border border-gold-400/20 rounded-xl flex items-center justify-center bg-gold-400/[0.03]">
              <svg class="w-5 h-5 text-gold-400/80" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
            </div>
            <h3 class="font-heading text-xl text-white font-medium tracking-wide" data-i18n data-hy="Տեսլական" data-en="Vision">Vision</h3>
          </div>
          <p class="text-gray-400/90 font-light leading-[1.85] text-[14px]" data-i18n data-hy="Նպաստելով մեր ներդրողների համար երկարաժամկետ արժեքի ստեղծմանը, օգտագործելով նորարարական և ճկուն լուծումներ։" data-en="Creating long-term value for our investors through innovative and flexible solutions while ensuring transparency, integrity, and regulatory compliance.">
            Creating long-term value for our investors through innovative and flexible
            solutions while ensuring transparency, integrity, and regulatory compliance.
          </p>
        </div>

        <!-- Mission -->
        <div class="glass-card p-9 lg:p-11 gs-reveal-scale">
          <div class="flex items-center gap-3.5 mb-7">
            <div class="w-11 h-11 border border-gold-400/20 rounded-xl flex items-center justify-center bg-gold-400/[0.03]">
              <svg class="w-5 h-5 text-gold-400/80" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" />
              </svg>
            </div>
            <h3 class="font-heading text-xl text-white font-medium tracking-wide" data-i18n data-hy="Առաքելություն" data-en="Mission">Mission</h3>
          </div>
          <p class="text-gray-400/90 font-light leading-[1.85] text-[14px]" data-i18n data-hy="Դառնալ Հայաստանի ակտիվների կառավարման առաջատար ընկերություն, որը ճանաչված է ներդրումային ֆոնդերի կառավարման մեծ փորձառությամբ:" data-en="To become Armenia's leading asset management company, recognized for extensive experience in investment fund management and trusted by discerning investors.">
            To become Armenia's leading asset management company, recognized for
            extensive experience in investment fund management and trusted by
            discerning investors.
          </p>
        </div>

        <!-- Values -->
        <div class="glass-card p-9 lg:p-11 gs-reveal-scale">
          <div class="flex items-center gap-3.5 mb-7">
            <div class="w-11 h-11 border border-gold-400/20 rounded-xl flex items-center justify-center bg-gold-400/[0.03]">
              <svg class="w-5 h-5 text-gold-400/80" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />
              </svg>
            </div>
            <h3 class="font-heading text-xl text-white font-medium tracking-wide" data-i18n data-hy="Արժեքներ" data-en="Values">Values</h3>
          </div>
          <div class="space-y-5">
            <div class="value-item">
              <p class="text-white text-[14px] font-medium mb-0.5" data-i18n data-hy="Ազնվություն" data-en="Integrity">Integrity</p>
              <p class="text-gray-500 text-[12px] font-light leading-relaxed" data-i18n data-hy="Մենք մեր աշխատանքում առաջնորդվում ենք էթիկայի կանոններով" data-en="Unwavering commitment to ethical standards">Unwavering commitment to ethical standards</p>
            </div>
            <div class="value-item">
              <p class="text-white text-[14px] font-medium mb-0.5" data-i18n data-hy="Նորարարություն" data-en="Innovation">Innovation</p>
              <p class="text-gray-500 text-[12px] font-light leading-relaxed" data-i18n data-hy="Մենք կիրառում ենք առաջատար տեխնոլոգիաներ" data-en="Forward-thinking investment strategies">Forward-thinking investment strategies</p>
            </div>
            <div class="value-item">
              <p class="text-white text-[14px] font-medium mb-0.5" data-i18n data-hy="Հաճախորդակենտրոնություն" data-en="Client-Centricity">Client-Centricity</p>
              <p class="text-gray-500 text-[12px] font-light leading-relaxed" data-i18n data-hy="Մեր ներդրողների նպատակներն ու շահերը մեր առաջնահերթությունն են" data-en="Your success defines our purpose">Your success defines our purpose</p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- Gold Divider -->
  <div class="gold-divider gs-line-h"></div>


  <!-- ═══════════════════════════════════════════════════════════════
       CONTACT / FOOTER
       ═══════════════════════════════════════════════════════════════ -->
  <footer id="contact" class="relative py-36 lg:py-48 overflow-hidden">
    <div class="absolute top-1/3 right-0 w-[400px] h-[400px] ambient-blob bg-gold-400"></div>

    <div class="max-w-7xl mx-auto px-6 lg:px-16 relative z-10">
      <div class="grid lg:grid-cols-2 gap-24">

        <!-- Left -->
        <div class="gs-reveal-left">
          <div class="flex items-center gap-4 mb-10">
            <div class="logo-circle">
              <span class="text-gold-gradient font-heading text-lg font-semibold">A</span>
            </div>
            <div>
              <p class="text-white text-[13px] tracking-[0.25em] uppercase font-light">Algosphere</p>
              <p class="text-gold-400/50 text-[10px] tracking-[0.2em] uppercase mt-0.5">Asset Management</p>
            </div>
          </div>
          <p class="text-gray-500 text-[14px] font-light max-w-sm leading-[1.8]" data-i18n data-hy="Բարձրակարգ ներդրումային ֆոնդերի կառավարում։" data-en="Premium investment fund management with a commitment to excellence, transparency, and superior returns.">
            Premium investment fund management with a commitment to excellence,
            transparency, and superior returns.
          </p>
        </div>

        <!-- Right -->
        <div class="gs-reveal-right">
          <div class="section-accent"></div>
          <p class="text-[10px] tracking-[0.5em] uppercase text-gold-400/50 mb-3 font-light" data-i18n data-hy="Կապ" data-en="Contact">Contact</p>
          <h3 class="font-heading text-2xl lg:text-3xl text-white font-medium mb-10">
            <span class="text-gold-gradient" data-i18n data-hy="Կապվեք" data-en="Get in Touch">Get in Touch</span>
          </h3>

          <div class="space-y-6">
            <!-- Address -->
            <div class="contact-row flex items-start gap-4 group cursor-default">
              <svg class="contact-icon w-[18px] h-[18px] text-gold-400/40 mt-1 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
              </svg>
              <p class="text-gray-400 text-[14px] font-light leading-relaxed">
                Հայաստան, Երևան-0015,<br />Արդարակի 7/6, 186
              </p>
            </div>

            <!-- Phone -->
            <div class="contact-row flex items-start gap-4">
              <svg class="contact-icon w-[18px] h-[18px] text-gold-400/40 mt-1 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" />
              </svg>
              <div class="text-[14px] font-light space-y-1">
                <a href="tel:+37411700013" class="block text-gray-400 hover:text-gold-400 transition-colors duration-300">+374 11 70 00 13</a>
                <a href="tel:+37495700013" class="block text-gray-400 hover:text-gold-400 transition-colors duration-300">+374 95 70 00 13</a>
              </div>
            </div>

            <!-- Email -->
            <div class="contact-row flex items-start gap-4">
              <svg class="contact-icon w-[18px] h-[18px] text-gold-400/40 mt-1 shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
              </svg>
              <a href="mailto:info@algosphere.am" class="text-gray-400 text-[14px] font-light hover:text-gold-400 transition-colors duration-300">
                info@algosphere.am
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Bottom -->
      <div class="mt-28 pt-8 border-t border-white/[0.04]">
        <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
          <p class="text-gray-600 text-[11px] font-light tracking-[0.1em]">
            &copy; {new Date().getFullYear()} Algosphere Asset Management. All rights reserved.
          </p>
          <div class="flex items-center gap-2.5">
            <div class="w-1 h-1 bg-gold-400/25 rounded-full"></div>
            <p class="text-gray-600 text-[11px] font-light tracking-[0.1em]" data-i18n data-hy="Երևան, Հայաստան" data-en="Yerevan, Armenia">Yerevan, Armenia</p>
          </div>
        </div>
      </div>
    </div>
  </footer>


  <!-- ═══════════════════════════════════════════════════════════════
       SCRIPTS
       ═══════════════════════════════════════════════════════════════ -->
  <script>
    import { gsap } from 'gsap';
    import { ScrollTrigger } from 'gsap/ScrollTrigger';

    gsap.registerPlugin(ScrollTrigger);

    // ─── Starfield ───
    function createStarfield() {
      const el = document.getElementById('starfield');
      if (!el) return;
      for (let i = 0; i < 140; i++) {
        const s = document.createElement('div');
        s.className = 'star';
        const size = 1 + Math.random() * 2;
        Object.assign(s.style, {
          left: `${Math.random() * 100}%`,
          top: `${Math.random() * 100}%`,
          width: `${size}px`,
          height: `${size}px`,
          animationDelay: `${Math.random() * 6}s`,
        });
        s.style.setProperty('--dur', `${2 + Math.random() * 5}s`);
        s.style.setProperty('--peak', `${0.2 + Math.random() * 0.6}`);
        el.appendChild(s);
      }
    }

    // ─── Particle Canvas ───
    function initParticles() {
      const canvas = document.getElementById('particles-canvas') as HTMLCanvasElement;
      if (!canvas) return;
      const ctx = canvas.getContext('2d');
      if (!ctx) return;

      let w = (canvas.width = canvas.offsetWidth);
      let h = (canvas.height = canvas.offsetHeight);

      const pts: { x: number; y: number; vx: number; vy: number; r: number; a: number }[] = [];
      for (let i = 0; i < 60; i++) {
        pts.push({
          x: Math.random() * w,
          y: Math.random() * h,
          vx: (Math.random() - 0.5) * 0.25,
          vy: (Math.random() - 0.5) * 0.25,
          r: Math.random() * 1.5 + 0.3,
          a: Math.random() * 0.4 + 0.1,
        });
      }

      function frame() {
        ctx!.clearRect(0, 0, w, h);
        for (let i = 0; i < pts.length; i++) {
          for (let j = i + 1; j < pts.length; j++) {
            const dx = pts[i].x - pts[j].x;
            const dy = pts[i].y - pts[j].y;
            const d = Math.sqrt(dx * dx + dy * dy);
            if (d < 160) {
              ctx!.beginPath();
              ctx!.strokeStyle = `rgba(212,175,55,${0.04 * (1 - d / 160)})`;
              ctx!.lineWidth = 0.5;
              ctx!.moveTo(pts[i].x, pts[i].y);
              ctx!.lineTo(pts[j].x, pts[j].y);
              ctx!.stroke();
            }
          }
        }
        for (const p of pts) {
          ctx!.beginPath();
          ctx!.arc(p.x, p.y, p.r, 0, Math.PI * 2);
          ctx!.fillStyle = `rgba(212,175,55,${p.a})`;
          ctx!.fill();
          p.x += p.vx;
          p.y += p.vy;
          if (p.x < 0 || p.x > w) p.vx *= -1;
          if (p.y < 0 || p.y > h) p.vy *= -1;
        }
        requestAnimationFrame(frame);
      }
      frame();

      window.addEventListener('resize', () => {
        w = canvas.width = canvas.offsetWidth;
        h = canvas.height = canvas.offsetHeight;
      });
    }

    // ─── Navbar ───
    function initNavbar() {
      const nav = document.getElementById('navbar');
      if (!nav) return;
      window.addEventListener('scroll', () => {
        nav.classList.toggle('nav-solid', window.scrollY > 60);
      });
    }

    // ─── Mobile Menu ───
    function initMobileMenu() {
      const btn = document.getElementById('hamburger-btn');
      const menu = document.getElementById('mobile-menu');
      const closeBtn = document.getElementById('mobile-close');
      if (!btn || !menu) return;

      const backdrop = menu.querySelector('.mobile-menu-backdrop') as HTMLElement;
      const content = menu.querySelector('.mobile-menu-content') as HTMLElement;
      const links = menu.querySelectorAll('.mobile-nav-link');

      function openMenu() {
        menu!.classList.remove('pointer-events-none');
        menu!.classList.add('pointer-events-auto');
        backdrop!.classList.remove('opacity-0');
        backdrop!.classList.add('opacity-100');
        content!.classList.remove('opacity-0', 'translate-y-[-20px]');
        content!.classList.add('opacity-100', 'translate-y-0');
        document.body.style.overflow = 'hidden';
        btn!.querySelector('.hamburger-icon')?.classList.add('ham-open');
      }

      function closeMenu() {
        menu!.classList.add('pointer-events-none');
        menu!.classList.remove('pointer-events-auto');
        backdrop!.classList.add('opacity-0');
        backdrop!.classList.remove('opacity-100');
        content!.classList.add('opacity-0', 'translate-y-[-20px]');
        content!.classList.remove('opacity-100', 'translate-y-0');
        document.body.style.overflow = '';
        btn!.querySelector('.hamburger-icon')?.classList.remove('ham-open');
      }

      btn.addEventListener('click', () => {
        const isOpen = !menu.classList.contains('pointer-events-none');
        isOpen ? closeMenu() : openMenu();
      });

      closeBtn?.addEventListener('click', closeMenu);
      links.forEach(link => link.addEventListener('click', closeMenu));

      menu.querySelectorAll('.mobile-lang-btn').forEach(b => {
        b.addEventListener('click', () => {
          const lang = (b as HTMLElement).dataset.lang || 'hy';
          switchLanguage(lang);
          closeMenu();
        });
      });
    }

    // ─── Language Switcher ───
    function switchLanguage(lang: string) {
      localStorage.setItem('algosphere-lang', lang);
      document.documentElement.lang = lang === 'hy' ? 'hy' : 'en';
      
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const text = (el as HTMLElement).dataset[lang] || (el as HTMLElement).dataset.en || '';
        if (text) {
          el.innerHTML = text;
        }
      });

      // Update desktop lang button active states
      document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
      const activeBtn = document.getElementById(`lang-${lang}`);
      if (activeBtn) activeBtn.classList.add('active');
      
      // Update mobile lang buttons
      document.querySelectorAll('.mobile-lang-btn').forEach(b => {
        const btnLang = (b as HTMLElement).dataset.lang;
        b.classList.toggle('active', btnLang === lang);
      });
    }

    function initLanguageSwitcher() {
      const savedLang = localStorage.getItem('algosphere-lang') || 'hy';
      
      if (savedLang === 'en') {
        switchLanguage('en');
      } else {
        document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
        const hyBtn = document.getElementById('lang-hy');
        if (hyBtn) hyBtn.classList.add('active');
      }

      document.getElementById('lang-hy')?.addEventListener('click', () => switchLanguage('hy'));
      document.getElementById('lang-en')?.addEventListener('click', () => switchLanguage('en'));
    }

    // ─── Smooth scroll ───
    function initSmoothScroll() {
      document.querySelectorAll('a[href^="#"]').forEach((a) => {
        a.addEventListener('click', (e) => {
          e.preventDefault();
          const t = document.querySelector((a as HTMLAnchorElement).getAttribute('href')!);
          if (t) t.scrollIntoView({ behavior: 'smooth', block: 'start' });
        });
      });
    }

    // ─── GSAP Hero Entrance ───
    function animateHero() {
      const els = document.querySelectorAll('.gs-hero-el');
      els.forEach((el) => {
        const delay = parseFloat((el as HTMLElement).dataset.heroDelay || '0');
        gsap.to(el, {
          opacity: 1,
          y: 0,
          duration: 1.2,
          delay: 0.3 + delay,
          ease: 'power3.out',
        });
      });

      document.querySelectorAll('#hero .gs-line-h').forEach((line) => {
        gsap.to(line, {
          scaleX: 1,
          duration: 1.4,
          delay: 1.0,
          ease: 'power2.out',
        });
      });
    }

    // ─── Hero parallax ───
    function initParallax() {
      const hero = document.querySelector('#hero > .relative.z-10') as HTMLElement;
      if (!hero) return;
      gsap.to(hero, {
        y: 200,
        opacity: 0,
        ease: 'none',
        scrollTrigger: {
          trigger: '#hero',
          start: 'top top',
          end: 'bottom top',
          scrub: 0.8,
        },
      });

      // About section decoration parallax
      const aboutDeco = document.querySelector('.about-parallax-decoration') as HTMLElement;
      if (aboutDeco) {
        gsap.to(aboutDeco, {
          y: -30,
          ease: 'none',
          scrollTrigger: {
            trigger: '#about',
            start: 'top bottom',
            end: 'bottom top',
            scrub: 1,
          },
        });
      }
    }

    // ─── GSAP Scroll Reveals ───
    function initScrollAnimations() {
      gsap.utils.toArray<HTMLElement>('.gs-reveal').forEach((el) => {
        gsap.to(el, {
          opacity: 1,
          y: 0,
          duration: 1,
          ease: 'power3.out',
          scrollTrigger: { trigger: el, start: 'top 85%', toggleActions: 'play none none none' },
        });
      });

      gsap.utils.toArray<HTMLElement>('.gs-reveal-left').forEach((el) => {
        gsap.to(el, {
          opacity: 1,
          x: 0,
          duration: 1,
          ease: 'power3.out',
          scrollTrigger: { trigger: el, start: 'top 85%', toggleActions: 'play none none none' },
        });
      });

      gsap.utils.toArray<HTMLElement>('.gs-reveal-right').forEach((el) => {
        gsap.to(el, {
          opacity: 1,
          x: 0,
          duration: 1,
          ease: 'power3.out',
          scrollTrigger: { trigger: el, start: 'top 85%', toggleActions: 'play none none none' },
        });
      });

      const cards = gsap.utils.toArray<HTMLElement>('.gs-reveal-scale');
      if (cards.length) {
        gsap.to(cards, {
          opacity: 1,
          scale: 1,
          duration: 0.9,
          stagger: 0.15,
          ease: 'power3.out',
          scrollTrigger: { trigger: cards[0], start: 'top 85%', toggleActions: 'play none none none' },
        });
      }

      gsap.utils.toArray<HTMLElement>('.gs-line-h').forEach((el) => {
        if (el.closest('#hero')) return;
        gsap.to(el, {
          scaleX: 1,
          duration: 1.2,
          ease: 'power2.out',
          scrollTrigger: { trigger: el, start: 'top 90%', toggleActions: 'play none none none' },
        });
      });
    }

    // ─── Init ───
    document.addEventListener('DOMContentLoaded', () => {
      createStarfield();
      initParticles();
      initNavbar();
      initMobileMenu();
      initLanguageSwitcher();
      initSmoothScroll();
      animateHero();
      initParallax();
      initScrollAnimations();
    });
  </script>

</Layout>
